import React, { Fragment } from 'react'
import PropTypes from 'prop-types'
import { Field } from 'redux-form'
import _ from 'lodash'
import moment from 'moment'
import cx from 'classnames'
import { Icon } from '@fc/react-playbook'

import OrdersValidationFactory from './OrdersValidationFactory'
import { getLongAccount } from '../../utils/Stringify'
// import CurrencyRenderer from '../../renderers/CurrencyRenderer'
import TimeFormatter from '../TimeFormatter/TimeFormatter'
import s from './Order.scss'
import ValueField from '../ValueField'

const generateValidationDetailsIndex = index => index
const getValidationDetails = values => {
  const validations = new OrdersValidationFactory(values)
  const validationDetails = validations.getAllValidationsForGridView()
  return (
    <div>
      {validationDetails.map((error, index) => (
        <div key={generateValidationDetailsIndex(index)}>
          <Icon name={error.iconClass} className={cx(s.warning)} />
          {error.message}{' '}
        </div>
      ))}
    </div>
  )
}

const formatSelectedTradeWindowDisplayText = (entity, timeZone) => {
  const {
    label,
    redEndTime,
    subEndTime,
    redemptionSettlementPeriod,
    subscriptionSettlementPeriod,
  } = entity.tradeWindow

  const tz = moment.tz(timeZone).zoneAbbr()
  return label ? (
    <span style={{ fontWeight: 400 }}>{label}</span>
  ) : (
    <Fragment>
      <span style={{ fontWeight: 400 }}>Window Cutoff </span>
      <span style={{ paddingRight: '5px' }}>
        ({tz}
        ):
      </span>
      <span>Buy:</span>
      <TimeFormatter time={subEndTime} showTimeZone={false} />
      <span style={{ paddingLeft: '5px', paddingRight: '5px' }}> | </span>
      <span>Sell:</span>
      <TimeFormatter time={redEndTime} showTimeZone={false} />
      <br />
      <span style={{ paddingRight: '23px' }}>Settlement Period: </span>
      <span style={{ paddingRight: '5px' }}>
        (T+
        {subscriptionSettlementPeriod})
      </span>
      <span style={{ paddingLeft: '27px', paddingRight: '5px' }}> | </span>
      <span>
        (T+
        {redemptionSettlementPeriod})
      </span>
    </Fragment>
  )
}

const order = props => {
  const { fundAccount } = props.orderRequest
  const selectedAccountEntity = props.orderRequest.fundAccount
  const showValidations =
    props.orderRequest.tradeBusinessRulesValidationErrors.length ||
    props.orderRequest.tradeComplianceRulesValidationErrors.length
  // || props.orderRequest.tradeInputValidationErrors.length
  console.log('~~~~~ fundAccount ', fundAccount)
  console.log('>>>>>>>>> props fundName ', props.fundName)
  console.log('>>>>>>>>> props selectedAccountEntity ', selectedAccountEntity)

  return (
    <div className={s.confirmOrderWrap}>
      <div className={s.form}>
        <div className={s.column}>
          {props.fundName ? <div className={s.fund}>{props.fundName}</div> : ''}
          <div className={cx(s.row, s.accountInfo)}>
            <Field
              name="account"
              props={{
                formGroupClassName: s.account,
                inline: true,
                showDelimiter: true,
                label: 'Account',
                renderer: () => (
                  <div>
                    {getLongAccount(
                      _.get(selectedAccountEntity, 'account.name'),
                    )}
                  </div>
                ),
              }}
              component={ValueField}
            />
            <Field
              props={{
                formGroupClassName: s.currencyField,
                inline: true,
                showDelimiter: true,
                label: 'Market Value',
                renderer: () => (
                  <div>
                    {_.get(selectedAccountEntity, 'balance.balanceAmt')}
                  </div>
                ),
              }}
              name="Market Value"
              component={ValueField}
            />

            <Field
              props={{
                formGroupClassName: s.numericField,
                inline: true,
                showDelimiter: true,
                label: 'Total Share',
                renderer: () => (
                  <div>{_.get(selectedAccountEntity, 'balance.shares')}</div>
                ),
              }}
              name="Total Share"
              component={ValueField}
            />
            <Field
              props={{
                formGroupClassName: s.currencyField,
                inline: true,
                showDelimiter: true,
                label: 'Est. Market Value',
                renderer: () => (
                  <div>
                    {_.get(selectedAccountEntity, 'balance.balanceAmt')}
                  </div>
                ),
              }}
              component={ValueField}
              name="Est. Market Value"
            />
            <Field
              props={{
                formGroupClassName: s.numericField,
                inline: true,
                showDelimiter: true,
                label: 'Est. Share',
              }}
              name={_.get(selectedAccountEntity, 'estimatedShare')}
              component={ValueField}
            />
            <Field
              props={{
                formGroupClassName: s.percentageField,
                inline: true,
                showDelimiter: true,
                label: 'Fund % Owned',
                renderer: ({ val }) => (val ? `${val}%` : ''),
              }}
              name={_.get(selectedAccountEntity, 'fundPercentOwned')}
              component={ValueField}
            />
            <Field
              props={{
                formGroupClassName: s.currencyField,
                inline: true,
                showDelimiter: true,
                label: 'Est. Total Market Value',
                renderer: ({ val }) => (val ? `$${val}` : ''),
              }}
              name={_.get(selectedAccountEntity, 'estimatedTotalMarketValue')}
              component={ValueField}
            />
            <Field
              props={{
                formGroupClassName: s.numericField,
                inline: true,
                showDelimiter: true,
                label: 'Est. Total Share',
              }}
              name={_.get(selectedAccountEntity, 'estimatedTotalShare')}
              component={ValueField}
            />
          </div>
          <div className={cx(s.row, s.accountInfo)}>
            <Field
              name="side"
              props={{
                formGroupClassName: s.account,
                inline: true,
                showDelimiter: true,
                label: 'Order Side',
                renderer: () => <div>{props.orderRequest.side}</div>,
              }}
              component={ValueField}
            />
            {props.orderRequest.redemptionFeeType ? (
              <Field
                name="redemptionFeeType"
                props={{
                  formGroupClassName: s.account,
                  inline: true,
                  showDelimiter: true,
                  label: 'Redemption Type',
                  renderer: () => (
                    <div>{props.orderRequest.redemptionFeeType}</div>
                  ),
                }}
                component={ValueField}
              />
            ) : (
              ''
            )}
            <Field
              name="qtyType"
              props={{
                formGroupClassName: s.account,
                inline: true,
                showDelimiter: true,
                label: 'Quantity Type',
                renderer: () => <div>{props.orderRequest.qtyType}</div>,
              }}
              component={ValueField}
            />
            <Field
              name="quantity"
              props={{
                formGroupClassName: s.account,
                inline: true,
                showDelimiter: true,
                label: 'Amount',
                renderer: () => <div>{props.orderRequest.quantity}</div>,
              }}
              component={ValueField}
            />
            {_.get(selectedAccountEntity, 'settlementDate') ? (
              <Field
                name="settlementDate"
                props={{
                  formGroupClassName: s.account,
                  inline: true,
                  showDelimiter: true,
                  label: 'Settlement Date',
                  renderer: () => (
                    <div>
                      {_.get(selectedAccountEntity, 'settlementDate.name')}
                    </div>
                  ),
                }}
                component={ValueField}
              />
            ) : (
              ''
            )}
            <Field
              name="tradeDate"
              props={{
                formGroupClassName: s.account,
                inline: true,
                showDelimiter: true,
                label: 'Trade Date',
                renderer: () => (
                  <div>{_.get(selectedAccountEntity, 'tradeDate')}</div>
                ),
              }}
              component={ValueField}
            />

            {showValidations ? (
              <Field
                name="validations"
                props={{
                  formGroupClassName: s.account,
                  inline: true,
                  showDelimiter: true,
                  label: 'Validations',
                  renderer: () => (
                    <div>{getValidationDetails(props.orderRequest)}</div>
                  ),
                }}
                component={ValueField}
              />
            ) : (
              ''
            )}
          </div>
          {selectedAccountEntity.tradeWindow ? (
            <div className={s.row}>
              <Field
                props={{
                  formGroupClassName: s.settlementFields,
                  inline: true,
                  showDelimiter: true,
                  label: 'Trade Window',
                  renderer: () => (
                    <div>
                      {formatSelectedTradeWindowDisplayText(
                        selectedAccountEntity,
                        'EDT',
                      )}
                    </div>
                  ),
                }}
                name="tradeWindow"
                component={ValueField}
              />
            </div>
          ) : (
            ''
          )}

          {props.orderRequest.investorCashSettlementInstruction ||
          props.orderRequest.investorCustodySettlementInstruction ? (
            <div className={cx(s.row, s.spaceBetween)}>
              {props.orderRequest.investorCashSettlementInstruction ? (
                <Field
                  props={{
                    formGroupClassName: s.settlementFields,
                    inline: true,
                    showDelimiter: true,
                    label: 'Cash Settlement Instructions',
                    renderer: () => (
                      <div>
                        <div>
                          {_.get(
                            selectedAccountEntity,
                            'cashSettlementInstructions.name',
                          )}
                        </div>
                        <div
                          style={{
                            textIndent: '15px',
                            backgroundColor: '#FFFFF0',
                            color: '#696969',
                          }}
                        >
                          <div>
                            <b>SSI Custodian Name:</b>
                            &nbsp;ASDFSDDS
                          </div>
                          <div>
                            <b>SSI Custodian Account:</b>
                            &nbsp;GGGG
                          </div>
                          <div>
                            <b>SSI Custodian BIC:</b>
                            &nbsp;DDDDDD66
                          </div>
                          <div>
                            <b>Cash Cutoff Time:</b>
                            &nbsp;22:00 US/Eastern
                          </div>
                        </div>
                      </div>
                    ),
                  }}
                  name="cashSettlementInstructions"
                  component={ValueField}
                />
              ) : (
                ''
              )}
              {props.orderRequest.investorCustodySettlementInstruction ? (
                <Field
                  props={{
                    formGroupClassName: s.settlementFields,
                    inline: true,
                    showDelimiter: true,
                    label: 'Custody Settlement Instructions',
                    renderer: () => (
                      <div>
                        {_.get(
                          selectedAccountEntity,
                          'custodySettlementInstructions.name',
                        )}
                      </div>
                    ),
                  }}
                  name="custodySettlementInstructions"
                  component={ValueField}
                />
              ) : (
                ''
              )}
            </div>
          ) : (
            ''
          )}
          {props.orderRequest.comments || props.orderRequest.approvalMessage ? (
            <div className={s.row}>
              {props.orderRequest.comments ? (
                <Field
                  props={{
                    formGroupClassName: s.settlementFields,
                    inline: true,
                    showDelimiter: true,
                    label: 'Comments',
                    renderer: () => <div>{props.orderRequest.comments}</div>,
                  }}
                  name="comments"
                  component={ValueField}
                />
              ) : (
                ''
              )}

              {props.orderRequest.approvalMessage ? (
                <Field
                  props={{
                    formGroupClassName: s.settlementFields,
                    inline: true,
                    showDelimiter: true,
                    label: 'Approval Messages',
                    renderer: () => (
                      <div>{props.orderRequest.approvalMessage}</div>
                    ),
                  }}
                  name="approvalMessage"
                  component={ValueField}
                />
              ) : (
                ''
              )}
            </div>
          ) : (
            ''
          )}
        </div>
      </div>
    </div>
  )
}

order.propTypes = {
  orderRequest: PropTypes.instanceOf(Object),
  fundName: PropTypes.string,
}
export default order
-----------------------------------
import { PRECISION_TYPES } from '../enums'
import { getStore } from '../store'

const abbreviations = ['', 'K', 'M', 'B', 'T']

const NUM_SIG_FIGS = 3

function getShortenedNum(num, sigFigs) {
  if (num === 0) return [num, '']
  const numDigitsToRemove = Math.floor(Math.log10(Math.abs(num)) + 1) - sigFigs
  const rounded =
    Math.round(num / 10 ** numDigitsToRemove) * 10 ** numDigitsToRemove
  const digits = Math.floor(Math.log10(Math.abs(rounded)) + 1)
  let digitsToRemove = 0
  while (digits - digitsToRemove > 3) {
    digitsToRemove += 3
  }
  return [rounded / 10 ** digitsToRemove, abbreviations[digitsToRemove / 3]]
}

export function toCurrencyString(text, currencyCode = 'USD') {
  const num = text - 0
  // TBD what we are going to do the whole file
  // const { precision, numberLocale } = getStore().getState().Settings
  const precision = PRECISION_TYPES.FULL
  const numberLocale = 'en-US'
  const baseOptions = {
    style: 'currency',
    currency: currencyCode,
    currencyDisplay: 'symbol',
    minimumFractionDigits: 2,
    maximumFractionDigits: 2,
  }
  if (precision === PRECISION_TYPES.FULL)
    return num.toLocaleString(numberLocale, baseOptions)

  const [shortenedNum, abbrev] = getShortenedNum(num, NUM_SIG_FIGS)
  const sigFigOptions = {
    minimumSignificantDigits: NUM_SIG_FIGS,
    maximumSignificantDigits: NUM_SIG_FIGS,
  }
  const numWithOutAbbrev = shortenedNum.toLocaleString(numberLocale, {
    ...baseOptions,
    ...sigFigOptions,
  })
  // in european format, currencies are 1.000 $ so we need to add abbrev before space
  // in america format currencies are $1,000 so we can just add at end
  // so we search for non breaking space character, and add before if it exists otherwise add at end.
  const insertIndex = numWithOutAbbrev.indexOf(' ') // this is the nbsp; character! not space!
  return insertIndex >= 0
    ? numWithOutAbbrev.replace(' ', `${abbrev} `) // eslint-disable-line no-irregular-whitespace
    : `${numWithOutAbbrev}${abbrev}` // eslint-disable-line no-irregular-whitespace
}

export function toLocalCurrencyString(text, fromCurrency) {
  const num = text - 0
  const numUSD = num * fromCurrency.rateToUSD
  const toCurrency = getStore().getState().Settings.localCurrency
  const translatedNum = numUSD * toCurrency.rateFromUSD
  return toCurrencyString(translatedNum, toCurrency.code)
}

export function toNumberString(text) {
  const num = text - 0
  const { precision, numberLocale } = getStore().getState().Settings
  if (precision === PRECISION_TYPES.FULL) {
    return num.toLocaleString(numberLocale, {
      maximumFractionDigits: 5,
    })
  }
  const [shortenedNum, abbrev] = getShortenedNum(num, NUM_SIG_FIGS)
  const options = {
    minimumSignificantDigits: NUM_SIG_FIGS,
    maximumSignificantDigits: NUM_SIG_FIGS,
  }
  return shortenedNum.toLocaleString(numberLocale, options) + abbrev
}

export function toPercentString(text) {
  const baseOptions = {
    style: 'percent',
    minimumFractionDigits: 2,
    maximumSignificantDigits: 5,
  }
  const { precision, numberLocale } = getStore().getState().Settings
  const options =
    precision === PRECISION_TYPES.ROUND
      ? {
          minimumSignificantDigits: NUM_SIG_FIGS,
          maximumSignificantDigits: NUM_SIG_FIGS,
        }
      : {}
  return (text - 0).toLocaleString(numberLocale, {
    ...baseOptions,
    ...options,
  })
}

export function getLongAccount({ name, client, division, tradeInstitution }) {
  const { location, institution } = tradeInstitution
  return `${location.name}.${institution.name}${
    division ? `/${division.name}` : ''
  }${client ? `/${client.name}` : ''}${name ? `/${name}` : ''}`
}
-----

import React from 'react'
import { reduxForm } from 'redux-form'
import PropTypes from 'prop-types'
import _ from 'lodash'
import { Card, CardContent, Icon } from '@fc/react-playbook'

import Order from './Order'

const generateOrderEntityIndex = index => index
const warningMessagesLookup = [
  'Hard Cutoff', // 0
  'Market Value', // 1
  'Percentage Owned', // 2
  'Audit calculations could not be performed due to stale or insufficient data.', // 3
  'Before investing in mutual funds, it is important that you understand the sales charges, expenses and management fees that you may be charged. The prospectus link is displayed on the fund details page for the funds you are purchasing. Please click confirm to acknowledge that you have read and agreed to the terms as described', // 4
  'Audit calculations will not be performed on future dated trades.', // 5
  'Trade Window', // 6
  'Trade Date', // 7
  'Override Cutoff', // 8
  'Future Trade', // 9
  'Cash Payment Cutoff', // 10
  'Trade Lead Days', // 11
  'Before investing in mutual funds, it is important that you understand the sales charges, expenses and management fees that you may be charged. The prospectus and KIID links are displayed on the fund details page for the funds you are purchasing. Please click confirm to acknowledge that you have read and agreed to the terms as described', // 12
  'Redemption Gate', // 13
  'Redemption Liquidity Fee', // 14
  'Redemption Liquidity Fee (Estimated Fee Pct.)', // 15
  'Fund Daily Liquidity', // 16
  'Fund Weekly Liquidity', // 17
  'Fund Liquidity', // 18
  'Approval Trade Size', // 19
  'Daily Subscription', // 20
]

const OrderList = props => {
  const selectedFunds = []
  return (
    <div>
      {props.tradeValidationSummaryMessages.length ? (
        <Card>
          <CardContent>
            <ul>
              <div
                style={{
                  color: 'red',
                  fontWeight: 'bold',
                  paddingBottom: '0px',
                  paddingTop: '0px',
                }}
              >
                Note: One or more of the orders contains validation error(s) or
                warning(s).
              </div>
              {props.tradeValidationSummaryMessages.map(item => (
                <div>
                  {item === warningMessagesLookup[0] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Cutoff
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Hard Cutoff - the order was placed after the cutoff
                            time.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Soft Cutoff - the order was placed after the cutoff
                            time but can still be submitted for processing. The
                            Fund Processor may still reject the order.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[10] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Cash Payment Cutoff
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Cash Payment Cutoff - the payment request was placed
                            after the custodian cash cutoff time.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[3] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Incomplete Audit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Audit calculations could not be performed due to
                            stale or insufficient data.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[19] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Approval Trade Size
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Approval Required - Trade size surpasses the
                            subscription/redemption limit set by the
                            institution.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[1] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Market Value Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Market Value Limit - This order amount surpasses the
                            institution\s or applicable account(s) market value
                            limit set at the fund level. If you choose to
                            process this order Fund Connect will automatically
                            reject the order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Market Value Limit - This order amount surpasses the
                            institution\s or applicable account(s) market value
                            limit set at the fund level but can still be
                            submitted for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[2] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Percentage Owned Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            % Owned Limit - This order amount surpasses the
                            institution\s or applicable account(s) % owned limit
                            set at the fund level. If you choose to process this
                            order Fund Connect will automatically reject the
                            order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            % Owned Limit - This order amount surpasses the
                            institution\s or applicable account(s) % owned limit
                            set at the fund level but can still be submitted for
                            processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[20] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Daily Subscription Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Daily Subscription Limit - This order amount
                            surpasses your institution\s or applicable
                            account(s) daily subscription limit set at the fund
                            level. If you choose to continue this order will
                            automatically be rejected.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Daily Subscription Limit - This order amount
                            surpasses your institution\s or applicable
                            account(s) daily subscription limit set at the fund
                            level but can still be submitted for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[4] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Prospectus Review
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Before investing in mutual funds it is important
                            that you understand the sales charges expenses and
                            management fees that you may be charged. The
                            prospectus link is displayed on the fund details
                            page for the funds you are purchasing. Please click
                            confirm to acknowledge that you have read and agreed
                            to the terms as described.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[5] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Future Dated Trade
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Audit calculations will not be performed on future
                            dated trades.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}

                  {item === warningMessagesLookup[6] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Trade Window
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Window - The fund is closed for trading. If
                            you choose to continue this order will automatically
                            be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[7] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Trade Date
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Window - The trade date can only be the next
                            business day for this fund. If you choose to
                            continue this order will automatically be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[8] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Override Cutoff
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Cutoff and Trade Window validation have been
                            bypassed.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[9] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Future Dated Trade
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Window - Future dated trade is not supported
                            for this fund. If you choose to continue this order
                            will automatically be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[11] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Trade Date
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Lead Days - Order must be submitted prior to
                            trade date. If you choose to continue this order
                            will automatically be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[12] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Prospectus Review
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Before investing in mutual funds it is important
                            that you understand the sales charges expenses and
                            management fees that you may be charged. The
                            prospectus and KIID links are displayed on the fund
                            details page for the funds you are purchasing.
                            Please click confirm to acknowledge that you have
                            read and agreed to the terms as described.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[13] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Redemption Gate
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon
                            name="material-restricted"
                            className="warning"
                          />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Redemption gate is in effect. It will not be
                            possible to redeem shares until the gate has been
                            lifted.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[14] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Redemption Liquidity Fee
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Redemption liquidity fee is currently in effect for
                            this fund.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[15] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Estimated Fee Percentage
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Redemption liquidity fee is currently in effect for
                            this fund.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[16] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Fund Daily Liquidity Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Daily Liquidity Limit - Fund daily liquidity %
                            value is below institution\s or applicable
                            account(s) hard limit. If you choose to process this
                            order Fund Connect will automatically reject the
                            order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Daily Liquidity Limit - Fund daily liquidity %
                            value is below institution\s or applicable
                            account(s) soft limit. This order can be submitted
                            for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[17] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Fund Weekly Liquidity Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Weekly Liquidity Limit - Fund weekly liquidity
                            % value is below institution\s or applicable
                            account(s) hard limit. If you choose to process this
                            order Fund Connect will automatically reject the
                            order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Weekly Liquidity Limit - Fund weekly liquidity
                            % value is below institution\s or applicable
                            account(s) soft limit. This order can be submitted
                            for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[18] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Fund Liquidity
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund does not report daily/weekly liquidity
                            statistics.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                </div>
              ))}
            </ul>
          </CardContent>
        </Card>
      ) : (
        ''
      )}
      <div>
        {props.orders.map((order, index) => {
          let fundName = null
          const selectedAccountEntitySet = order.fundAccount
          if (
            selectedFunds.indexOf(
              _.get(selectedAccountEntitySet, 'fund.name'),
            ) === -1
          ) {
            fundName = `${_.get(selectedAccountEntitySet, 'fund.name')}(${_.get(
              selectedAccountEntitySet,
              'fund.provider.name',
            )})`
            selectedFunds.push(_.get(selectedAccountEntitySet, 'fund.name'))
          }
          return (
            <Order
              key={generateOrderEntityIndex(index)}
              orderRequest={order}
              fundName={fundName}
            />
          )
        })}
      </div>
    </div>
  )
}

OrderList.propTypes = {
  orders: PropTypes.instanceOf(Array),
  tradeValidationSummaryMessages: PropTypes.instanceOf(Array),
}

export default reduxForm({ form: 'OrderList' })(OrderList)
---------
import React from 'react'
import { reduxForm } from 'redux-form'
import PropTypes from 'prop-types'
import _ from 'lodash'
import { Card, CardContent, Icon } from '@fc/react-playbook'

import Order from './Order'

const generateOrderEntityIndex = index => index
const warningMessagesLookup = [
  'Hard Cutoff', // 0
  'Market Value', // 1
  'Percentage Owned', // 2
  'Audit calculations could not be performed due to stale or insufficient data.', // 3
  'Before investing in mutual funds, it is important that you understand the sales charges, expenses and management fees that you may be charged. The prospectus link is displayed on the fund details page for the funds you are purchasing. Please click confirm to acknowledge that you have read and agreed to the terms as described', // 4
  'Audit calculations will not be performed on future dated trades.', // 5
  'Trade Window', // 6
  'Trade Date', // 7
  'Override Cutoff', // 8
  'Future Trade', // 9
  'Cash Payment Cutoff', // 10
  'Trade Lead Days', // 11
  'Before investing in mutual funds, it is important that you understand the sales charges, expenses and management fees that you may be charged. The prospectus and KIID links are displayed on the fund details page for the funds you are purchasing. Please click confirm to acknowledge that you have read and agreed to the terms as described', // 12
  'Redemption Gate', // 13
  'Redemption Liquidity Fee', // 14
  'Redemption Liquidity Fee (Estimated Fee Pct.)', // 15
  'Fund Daily Liquidity', // 16
  'Fund Weekly Liquidity', // 17
  'Fund Liquidity', // 18
  'Approval Trade Size', // 19
  'Daily Subscription', // 20
]

const OrderList = props => {
  const selectedFunds = []
  return (
    <div>
      {props.tradeValidationSummaryMessages.length ? (
        <Card>
          <CardContent>
            <ul>
              <div
                style={{
                  color: 'red',
                  fontWeight: 'bold',
                  paddingBottom: '0px',
                  paddingTop: '0px',
                }}
              >
                Note: One or more of the orders contains validation error(s) or
                warning(s).
              </div>
              {props.tradeValidationSummaryMessages.map(item => (
                <div>
                  {item === warningMessagesLookup[0] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Cutoff
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Hard Cutoff - the order was placed after the cutoff
                            time.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Soft Cutoff - the order was placed after the cutoff
                            time but can still be submitted for processing. The
                            Fund Processor may still reject the order.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[10] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Cash Payment Cutoff
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Cash Payment Cutoff - the payment request was placed
                            after the custodian cash cutoff time.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[3] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Incomplete Audit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Audit calculations could not be performed due to
                            stale or insufficient data.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[19] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Approval Trade Size
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Approval Required - Trade size surpasses the
                            subscription/redemption limit set by the
                            institution.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[1] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Market Value Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Market Value Limit - This order amount surpasses the
                            institution\s or applicable account(s) market value
                            limit set at the fund level. If you choose to
                            process this order Fund Connect will automatically
                            reject the order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Market Value Limit - This order amount surpasses the
                            institution\s or applicable account(s) market value
                            limit set at the fund level but can still be
                            submitted for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[2] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Percentage Owned Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            % Owned Limit - This order amount surpasses the
                            institution\s or applicable account(s) % owned limit
                            set at the fund level. If you choose to process this
                            order Fund Connect will automatically reject the
                            order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            % Owned Limit - This order amount surpasses the
                            institution\s or applicable account(s) % owned limit
                            set at the fund level but can still be submitted for
                            processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[20] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Daily Subscription Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Daily Subscription Limit - This order amount
                            surpasses your institution\s or applicable
                            account(s) daily subscription limit set at the fund
                            level. If you choose to continue this order will
                            automatically be rejected.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Daily Subscription Limit - This order amount
                            surpasses your institution\s or applicable
                            account(s) daily subscription limit set at the fund
                            level but can still be submitted for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[4] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Prospectus Review
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Before investing in mutual funds it is important
                            that you understand the sales charges expenses and
                            management fees that you may be charged. The
                            prospectus link is displayed on the fund details
                            page for the funds you are purchasing. Please click
                            confirm to acknowledge that you have read and agreed
                            to the terms as described.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[5] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Future Dated Trade
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Audit calculations will not be performed on future
                            dated trades.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}

                  {item === warningMessagesLookup[6] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Trade Window
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Window - The fund is closed for trading. If
                            you choose to continue this order will automatically
                            be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[7] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Trade Date
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Window - The trade date can only be the next
                            business day for this fund. If you choose to
                            continue this order will automatically be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[8] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Override Cutoff
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Cutoff and Trade Window validation have been
                            bypassed.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[9] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Future Dated Trade
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Window - Future dated trade is not supported
                            for this fund. If you choose to continue this order
                            will automatically be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[11] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Trade Date
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Trade Lead Days - Order must be submitted prior to
                            trade date. If you choose to continue this order
                            will automatically be rejected.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[12] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Prospectus Review
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Before investing in mutual funds it is important
                            that you understand the sales charges expenses and
                            management fees that you may be charged. The
                            prospectus and KIID links are displayed on the fund
                            details page for the funds you are purchasing.
                            Please click confirm to acknowledge that you have
                            read and agreed to the terms as described.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[13] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Redemption Gate
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon
                            name="material-restricted"
                            className="warning"
                          />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Redemption gate is in effect. It will not be
                            possible to redeem shares until the gate has been
                            lifted.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[14] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Redemption Liquidity Fee
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Redemption liquidity fee is currently in effect for
                            this fund.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[15] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Estimated Fee Percentage
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Redemption liquidity fee is currently in effect for
                            this fund.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[16] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Fund Daily Liquidity Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Daily Liquidity Limit - Fund daily liquidity %
                            value is below institution\s or applicable
                            account(s) hard limit. If you choose to process this
                            order Fund Connect will automatically reject the
                            order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Daily Liquidity Limit - Fund daily liquidity %
                            value is below institution\s or applicable
                            account(s) soft limit. This order can be submitted
                            for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[17] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Fund Weekly Liquidity Limit
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-error" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Weekly Liquidity Limit - Fund weekly liquidity
                            % value is below institution\s or applicable
                            account(s) hard limit. If you choose to process this
                            order Fund Connect will automatically reject the
                            order.
                          </span>
                        </li>
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund Weekly Liquidity Limit - Fund weekly liquidity
                            % value is below institution\s or applicable
                            account(s) soft limit. This order can be submitted
                            for processing.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                  {item === warningMessagesLookup[18] && (
                    <div>
                      <p
                        style={{
                          lineHeight: '5pt',
                          fontWeight: 'bold',
                          fontFamily: 'Verdana, Helvetica, sans-serif',
                          fontSize: '11px',
                        }}
                      >
                        Fund Liquidity
                      </p>
                      <ul
                        style={{
                          listStyleType: 'none',
                          padding: '0px',
                        }}
                      >
                        <li>
                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                          <Icon name="material-warning" className="warning" />
                          <span
                            style={{
                              lineHeight: '11pt',
                              fontFamily: 'Verdana, Helvetica, sans-serif',
                              fontSize: '11px',
                            }}
                          >
                            Fund does not report daily/weekly liquidity
                            statistics.
                          </span>
                        </li>
                      </ul>
                    </div>
                  )}
                </div>
              ))}
            </ul>
          </CardContent>
        </Card>
      ) : (
        ''
      )}
      <div>
        {props.orders.map((order, index) => {
          let fundName = null
          const selectedAccountEntitySet = order.fundAccount
          if (
            selectedFunds.indexOf(
              _.get(selectedAccountEntitySet, 'fund.name'),
            ) === -1
          ) {
            fundName = `${_.get(selectedAccountEntitySet, 'fund.name')}(${_.get(
              selectedAccountEntitySet,
              'fund.provider.name',
            )})`
            selectedFunds.push(_.get(selectedAccountEntitySet, 'fund.name'))
          }
          return (
            <Order
              key={generateOrderEntityIndex(index)}
              orderRequest={order}
              fundName={fundName}
            />
          )
        })}
      </div>
    </div>
  )
}

OrderList.propTypes = {
  orders: PropTypes.instanceOf(Array),
  tradeValidationSummaryMessages: PropTypes.instanceOf(Array),
}

export default reduxForm({ form: 'OrderList' })(OrderList)





